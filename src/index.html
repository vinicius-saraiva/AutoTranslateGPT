<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Translation Manager</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module">
        import OpenAI from 'https://cdn.jsdelivr.net/npm/openai@4.28.0/+esm'
        window.OpenAI = OpenAI;
    </script>
    <script type="module">
        import { franc } from 'https://esm.sh/franc@6?bundle';
        // Make franc available globally since our other code needs it
        window.franc = franc;
    </script>
    <script src="js/app.js"></script>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo">
                <img src="https://platform.ibanfirst.com/upload/Cobrands/ibanfirst/favicon.png" alt="Logo" class="logo-img">
                <span class="logo-text">Translation Service</span>
            </div>
            <div class="header-controls">
                <div class="api-input-group">
                    <label for="locoApiKey">Localise API Key:</label>
                    <input type="password" id="locoApiKey" placeholder="Enter your Localise API key">
                    <button id="loadProjectBtn" class="primary-btn">Load Project</button>
                </div>
                <button id="configureBtn" class="configure-btn">
                    <span class="vega-icon-settings"></span>
                    OpenAI API Key
                </button>
            </div>
        </div>
    </div>

    <div id="status" class="status-message"></div>

    <style>
        .status-message {
            margin: 16px auto;
            padding: 12px 24px;
            border-radius: 8px;
            max-width: 1200px;
            display: none;
        }

        .status-message.info {
            background-color: #e3f2fd;
            color: #1976d2;
            display: block;
        }

        .status-message.success {
            background-color: #e8f5e9;
            color: #2e7d32;
            display: block;
        }

        .status-message.error {
            background-color: #ffebee;
            color: #c62828;
            display: block;
        }
    </style>

    <div class="setup-container">
        <div class="setup-grid">
            <div class="setup-column">
                <div>
                    <label>Source Language:</label>
                    <div class="language-grid" id="sourceLangGrid">
                        <!-- Germanic languages -->
                        <button type="button" class="lang-button" data-lang="en-GB" data-selected="true" title="English">
                            <img src="https://flagcdn.com/w20/gb.png" alt="English">
                        </button>
                        <button type="button" class="lang-button" data-lang="de-DE" title="German">
                            <img src="https://flagcdn.com/w20/de.png" alt="German">
                        </button>
                        <button type="button" class="lang-button" data-lang="nl-NL" title="Dutch">
                            <img src="https://flagcdn.com/w20/nl.png" alt="Dutch">
                        </button>

                        <!-- Romance languages -->
                        <button type="button" class="lang-button" data-lang="fr-FR" title="French">
                            <img src="https://flagcdn.com/w20/fr.png" alt="French">
                        </button>
                        <button type="button" class="lang-button" data-lang="es-ES" title="Spanish">
                            <img src="https://flagcdn.com/w20/es.png" alt="Spanish">
                        </button>
                        <button type="button" class="lang-button" data-lang="it-IT" title="Italian">
                            <img src="https://flagcdn.com/w20/it.png" alt="Italian">
                        </button>
                        <button type="button" class="lang-button" data-lang="ro-RO" title="Romanian">
                            <img src="https://flagcdn.com/w20/ro.png" alt="Romanian">
                        </button>

                        <!-- Slavic languages -->
                        <button type="button" class="lang-button" data-lang="cs-CZ" title="Czech">
                            <img src="https://flagcdn.com/w20/cz.png" alt="Czech">
                        </button>
                        <button type="button" class="lang-button" data-lang="bg-BG" title="Bulgarian">
                            <img src="https://flagcdn.com/w20/bg.png" alt="Bulgarian">
                        </button>

                        <!-- Other Indo-European -->
                        <button type="button" class="lang-button" data-lang="el-GR" title="Greek">
                            <img src="https://flagcdn.com/w20/gr.png" alt="Greek">
                        </button>

                        <!-- Uralic languages -->
                        <button type="button" class="lang-button" data-lang="hu-HU" title="Hungarian">
                            <img src="https://flagcdn.com/w20/hu.png" alt="Hungarian">
                        </button>

                        <!-- East Asian languages -->
                        <button type="button" class="lang-button" data-lang="zh-CN" title="Chinese">
                            <img src="https://flagcdn.com/w20/cn.png" alt="Chinese">
                        </button>
                    </div>
                </div>
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" id="ignoreBlank" checked>
                        Ignore blank source entries
                    </label>
                </div>
            </div>
            <div class="setup-column">
                <div>
                    <label>Target Language:</label>
                    <div class="language-grid" id="targetLangGrid">
                        <!-- Germanic languages -->
                        <button type="button" class="lang-button" data-lang="en-GB" title="English">
                            <img src="https://flagcdn.com/w20/gb.png" alt="English">
                        </button>
                        <button type="button" class="lang-button" data-lang="de-DE" title="German">
                            <img src="https://flagcdn.com/w20/de.png" alt="German">
                        </button>
                        <button type="button" class="lang-button" data-lang="nl-NL" title="Dutch">
                            <img src="https://flagcdn.com/w20/nl.png" alt="Dutch">
                        </button>

                        <!-- Romance languages -->
                        <button type="button" class="lang-button" data-lang="fr-FR" title="French">
                            <img src="https://flagcdn.com/w20/fr.png" alt="French">
                        </button>
                        <button type="button" class="lang-button" data-lang="es-ES" title="Spanish">
                            <img src="https://flagcdn.com/w20/es.png" alt="Spanish">
                        </button>
                        <button type="button" class="lang-button" data-lang="it-IT" title="Italian">
                            <img src="https://flagcdn.com/w20/it.png" alt="Italian">
                        </button>
                        <button type="button" class="lang-button" data-lang="ro-RO" title="Romanian">
                            <img src="https://flagcdn.com/w20/ro.png" alt="Romanian">
                        </button>

                        <!-- Slavic languages -->
                        <button type="button" class="lang-button" data-lang="cs-CZ" title="Czech">
                            <img src="https://flagcdn.com/w20/cz.png" alt="Czech">
                        </button>
                        <button type="button" class="lang-button" data-lang="bg-BG" title="Bulgarian">
                            <img src="https://flagcdn.com/w20/bg.png" alt="Bulgarian">
                        </button>

                        <!-- Other Indo-European -->
                        <button type="button" class="lang-button" data-lang="el-GR" title="Greek">
                            <img src="https://flagcdn.com/w20/gr.png" alt="Greek">
                        </button>

                        <!-- Uralic languages -->
                        <button type="button" class="lang-button" data-lang="hu-HU" title="Hungarian">
                            <img src="https://flagcdn.com/w20/hu.png" alt="Hungarian">
                        </button>

                        <!-- East Asian languages -->
                        <button type="button" class="lang-button" data-lang="zh-CN" title="Chinese">
                            <img src="https://flagcdn.com/w20/cn.png" alt="Chinese">
                        </button>
                    </div>
                </div>
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" id="ignoreTranslated">
                        Ignore entries already translated in target language
                    </label>
                </div>
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" id="onlyEmpty">
                        Only translate empty entries
                    </label>
                </div>
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" id="translateAll">
                        Translate to all target languages at once
                    </label>
                </div>
            </div>
        </div>
    </div>

    
    <div class="stats-container">
        <div class="stats-grid">
            <div class="stat-item">
                <label>Total Entries:</label>
                <span id="totalEntries">0</span>
            </div>
            <div class="stat-item">
                <label>Translated Entries:</label>
                <span id="translatedEntries">0</span>
            </div>
        </div>
        <div class="progress-container">
            <div class="progress">
                <div class="progress-fill" id="progressFill">
                    <span id="progressPercentage">0%</span>
                </div>
            </div>
        </div>
    </div>

    <div class="control-panel">
        <div class="batch-size-container">
            <label for="batchSize">Batch Size:</label>
            <input type="number" id="batchSize" value="10" min="1" max="50">
        </div>
        <button id="startBtn">Start Translation</button>
        <button id="nextBtn" disabled>Next Batch</button>
        <button id="saveBtn" disabled>Save Translations</button>
    </div>

    <table>
        <thead>
            <tr>
                <th colspan="4" class="language-navigation">
                    <div class="language-nav-container">
                        <button class="lang-nav-btn" id="prevLang">←</button>
                        <span id="currentTargetLang"></span>
                        <button class="lang-nav-btn" id="nextLang">→</button>
                    </div>
                </th>
            </tr>
            <tr>
                <th>Asset ID</th>
                <th id="sourceHeader">English (Source)</th>
                <th id="targetHeader1">Original Translation</th>
                <th id="targetHeader2">New Translation</th>
            </tr>
        </thead>
        <tbody id="translationTable">
            <!-- Translations will be inserted here -->
        </tbody>
    </table>

    <div id="apiModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>OpenAI API Configuration</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="openaiApiKey">OpenAI API Key</label>
                    <input type="password" id="openaiApiKey" placeholder="Enter your OpenAI API key">
                </div>
            </div>
            <div class="modal-footer">
                <button id="saveApiKeys" class="save-btn">Save Configuration</button>
            </div>
        </div>
    </div>

    <script>

    </script>
</body>
</html> 
</body>
</html> 